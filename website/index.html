<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breath Easy - Future of Ventilation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2300ddeb' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-5h2v4h-2v-4zm1-7.75c.69 0 1.25.56 1.25 1.25s-.56 1.25-1.25 1.25-1.25-.56-1.25-1.25.56-1.25 1.25-1.25z'/%3E%3C/svg%3E" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="monitor.css">
    <link rel="stylesheet" href="location.css">
    <link rel="stylesheet" href="booking.css">
    <link rel="stylesheet" href="feedback.css">
</head>
<body>
    <header>
        <div id="particles-js"></div>
        <h1>Breath Easy</h1>
        <p>Revolutionary ventilators with cutting-edge technology.</p>
    </header>

    <nav>
        <div class="hamburger" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        <a href="#home" onclick="scrollToSection('home')">Home</a>
        <a href="#monitor" onclick="scrollToSection('monitor')">Monitor</a>
        <a href="#location" onclick="scrollToSection('location')">Locations</a>
        <a href="#booking" onclick="scrollToSection('booking')">Book</a>
        <a href="#feedback" onclick="scrollToSection('feedback')">Feedback</a>
        <div class="theme-toggle" onclick="toggleDarkMode()"><i class="fas fa-moon"></i></div>
    </nav>

    <section class="section" id="home">
        <h2>Welcome to the Future</h2>
        <p class="highlight-text">Breath Easy redefines respiratory care with affordable, high-tech ventilators. Monitor patients in real-time, track ventilator locations, and book services effortlessly.</p>
        <button onclick="scrollToSection('booking')">Explore Now</button>
    </section>

    <section class="section" id="monitor">
        <h2>Live Patient Monitoring</h2>
        <div class="grid">
            <div class="card"><h3>Oxygen Level</h3><p id="oxygen">94%</p></div>
            <div class="card"><h3>Heart Rate</h3><p id="heart">70 BPM</p></div>
            <div class="card"><h3>Blood Pressure</h3><p id="bp">118/78 mmHg</p></div>
        </div>
        <a href="https://patient-monitoring-breathing.netlify.app/" class="monitor-link-button">Monitor</a>
    </section>

        <!-- ======================================== -->
    <!-- ===         Location Section         === -->
    <!-- ======================================== -->
    <section class="section" id="location">
        <h2>Ventilator Locations</h2>

        <!-- Map Container -->
        <div id="map-container">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3889.504609859036!2d77.5185298748056!3d12.875535717619315!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae40f5a5555555%3A0x465b7f2a4c2e3b1a!2sJyothy%20Institute%20Of%20Technology!5e0!3m2!1sen!2sin!4v1715110000000!5m2!1sen!2sin"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Jyothy Institute of Technology Location Map">
            </iframe>
        </div>

        <!-- Location Information Grid -->
        <div class="grid">
            <!-- Card 1: Jyothy Institute -->
            <div class="card" style="--card-index: 0;"> <!-- Optional: for staggered animation -->
                <h3>Jyothy Institute</h3>
                <p class="available">Available: <span id="jyothy-available">0</span></p>
                <p class="in-use">In Use: <span id="jyothy-in-use">0</span></p>
            </div>

            <!-- Card 2: City Clinic -->
            <div class="card" style="--card-index: 1;"> <!-- Optional: for staggered animation -->
                <h3>City Clinic</h3>
                <p class="available">Available: <span id="city-available">0</span></p>
                <p class="in-use">In Use: <span id="city-in-use">0</span></p>
            </div>

            <!-- Card 3: Rural Health Center -->
            <div class="card" style="--card-index: 2;"> <!-- Optional: for staggered animation -->
                <h3>Rural Health Center</h3>
                <p class="available">Available: <span id="rural-available">0</span></p>
                <p class="in-use">In Use: <span id="rural-in-use">0</span></p>
            </div>
        </div> <!-- End of .grid -->

        <!-- Reset Button - Placed AFTER the grid -->
        <button class="reset-button"
                onclick="promptPartialReset()"
                aria-label="Reset ventilator counts (requires admin password)">
            Reset Ventilator Counts
        </button>

    </section> <!-- End of #location section -->
    <!-- ======================================== -->

    <section class="section" id="booking">
        <h2>Book a Ventilator</h2>
        <div class="progress">
            <div class="active">1</div> <!-- Step 1 Indicator -->
            <div>2</div>             <!-- Step 2 Indicator -->
            <div>3</div>             <!-- Step 3 Indicator -->
        </div>
    
        <!-- Booking Success Message -->
        <div id="success-message" style="display: none; text-align: center; color: var(--primary-cyan); font-size: 1.25rem; margin-bottom: 1.5rem; font-weight: 600;">
            Booking Confirmed! We’ll reach out soon. <!-- Adjusted text slightly -->
        </div>
    
        <form id="booking-form">
            <!-- Step 1: User Details -->
            <div class="form-step active" id="step-1">  <!-- ADDED id="step-1" -->
                <label for="bookingName" class="sr-only">Your Name</label>
                <input type="text" id="bookingName" placeholder="Your Name" required aria-describedby="name-error">
                <div class="error-message" id="name-error" style="display: none;">Please enter your name.</div> <!-- ADDED Error Div -->
    
                <label for="bookingEmail" class="sr-only">Your Email</label>
                <input type="email" id="bookingEmail" placeholder="Your Email" required aria-describedby="email-error">
                <div class="error-message" id="email-error" style="display: none;">Please enter a valid email address.</div> <!-- ADDED Error Div -->
    
                <button type="button" onclick="nextStep(2)">Next <i class="fas fa-arrow-right"></i></button> <!-- Added icon for clarity -->
            </div>
    
            <!-- Step 2: Booking Details -->
            <div class="form-step" id="step-2"> <!-- ADDED id="step-2" -->
                <label for="bookingLocation" class="sr-only">Select Location</label>
                <select id="bookingLocation" required aria-describedby="location-error">
                    <option value="" disabled selected>Select Location</option>
                    <option value="jyothy">Jyothy Institute</option>
                    <option value="city">City Clinic</option>
                    <option value="rural">Rural Health Center</option>
                </select>
                <div class="error-message" id="location-error" style="display: none;">Please select a location.</div> <!-- ADDED Error Div -->
                 <div class="error-message" id="availability-error" style="display: none; color: #ff8c00;">No ventilators available at the selected location.</div> <!-- ADDED Availability Error Div -->
    
    
                <label for="bookingDate" class="sr-only">Booking Start Date</label>
                <input type="date" id="bookingDate" required min="2024-01-01" aria-describedby="date-error"> <!-- Adjusted min date, make dynamic if needed -->
                <div class="error-message" id="date-error" style="display: none;">Please select a valid start date.</div> <!-- ADDED Error Div -->
    
                <label for="bookingDuration" class="sr-only">Duration (days)</label>
                <input type="number" id="bookingDuration" placeholder="Duration (days)" min="1" max="30" required aria-describedby="duration-error">
                <div class="error-message" id="duration-error" style="display: none;">Please enter a duration between 1 and 30 days.</div> <!-- ADDED Error Div -->
    
                <button type="button" onclick="prevStep(1)"><i class="fas fa-arrow-left"></i> Back</button> <!-- Changed nextStep(1) to prevStep(1) -->
                <button type="button" onclick="nextStep(3)">Next <i class="fas fa-arrow-right"></i></button>
            </div>
    
            <!-- Step 3: Notes & Confirmation -->
            <div class="form-step" id="step-3"> <!-- ADDED id="step-3" -->
                 <label for="bookingNotes" class="sr-only">Additional Notes</label>
                <textarea id="bookingNotes" placeholder="Additional Notes (Optional)" rows="5"></textarea>
    
                <button type="button" onclick="prevStep(2)"><i class="fas fa-arrow-left"></i> Back</button> <!-- Changed nextStep(2) to prevStep(2) -->
                <button type="submit">Confirm Booking</button>
            </div>
        </form>
    </section>

    <section class="section" id="feedback">
        <h2>Your Feedback Matters</h2>
    
        <!-- ADDED: Success message container -->
        <div id="feedback-success" style="display: none; text-align: center; color: var(--primary-cyan); font-size: 1.25rem; margin-bottom: 1rem; font-weight: 600;">
            Feedback Received – Thank You!
        </div>
    
        <form id="feedback-form">
            <!-- Name Input -->
            <label for="feedbackName" class="sr-only">Your Name</label> <!-- Accessibility -->
            <input type="text" id="feedbackName" placeholder="Your Name" required aria-describedby="feedback-name-error">
            <!-- ADDED: Name error message container -->
            <div class="error-message" id="feedback-name-error" style="display: none;">Please enter your name.</div>
    
            <!-- ADDED: Email Input -->
            <label for="feedbackEmail" class="sr-only">Your Email</label> <!-- Accessibility -->
            <input type="email" id="feedbackEmail" placeholder="Your Email" required aria-describedby="feedback-email-error">
            <!-- ADDED: Email error message container -->
            <div class="error-message" id="feedback-email-error" style="display: none;">Please enter a valid email address.</div>
    
            <!-- Message Textarea -->
            <label for="feedbackMessage" class="sr-only">Feedback Message</label> <!-- Accessibility -->
            <textarea id="feedbackMessage" placeholder="Tell us your thoughts" rows="6" required aria-describedby="feedback-message-error"></textarea>
            <!-- ADDED: Message error message container -->
            <div class="error-message" id="feedback-message-error" style="display: none;">Please enter your feedback message.</div>
    
            <button type="submit">Send Feedback</button> <!-- Changed text slightly for clarity -->
        </form>
    </section>

    <div class="chat-toggle" onclick="toggleChat()"><i class="fas fa-comment-dots"></i></div>
    <div class="chat-widget">
        <div class="chat-header">
            Live Chat Support
            <span class="close-chat" onclick="closeChat()"><i class="fas fa-times"></i></span>
        </div>
        <div class="chat-box" id="chat-box">
            <div class="chat-message bot">Hi! How can I assist you today?</div>
        </div>
        <div class="chat-input">
            <input type="text" id="chat-input" placeholder="Type your message..." onkeypress="if(event.key === 'Enter') sendChatMessage()">
            <button onclick="sendChatMessage()">Send</button>
        </div>
    </div>

    <footer>
        <p>Developed by: Subhash B, Ullas Devang M, V Neha, Varadaraj<br>© 2024-25 Jyothy Institute of Technology</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="script.js"></script>
</body>
</html>